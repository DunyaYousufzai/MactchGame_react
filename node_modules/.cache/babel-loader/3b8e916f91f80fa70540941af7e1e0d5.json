{"ast":null,"code":"import { useEffect, useCallback } from \"react\";\nuseEffect(() => {\n  function getHistory() {\n    return document.getElementById(\"history-value\").innerText;\n  }\n\n  getHistory();\n}); // useEffect(() => {\n//     function printHistory(num) {\n//       document.getElementById(\"history-value\").innerText = num;\n//     }\n//     printHistory();\n//   });\n\nconst printHistory = useCallback(async num => {\n  document.getElementById(\"history-value\").innerText = num;\n}, []);\nuseEffect(() => {\n  printHistory();\n}, [printHistory]);\nuseEffect(() => {\n  function printOutpu(num) {\n    if (num === \"\") {\n      document.getElementById(\"output-values\").innerText = num;\n    } else {\n      document.getElementById(\"output-values\").innerText = getFormattedNumber(num);\n    }\n  }\n\n  printOutpu();\n}); // useEffect(() => {\n//   function getOutput(num) {\n//     return document.getElementById(\"output-values\").innerText;\n//   }\n//   getOutput();\n// });\n// useEffect(() => {\n//   function printOutpu(num) {\n//     if (num === \"\") {\n//         document.getElementById(\"output-values\").innerText = num;\n//       } else {\n//         document.getElementById(\"output-values\").innerText =\n//           getFormattedNumber(num);\n//       }\n//   }\n//   printOutpu();\n// });\n\nconst getFormattedNumber = num => {\n  if (num === \"-\") {\n    return \"\";\n  }\n\n  var n = Number(num);\n  var value = n.toLocaleString(\"en\");\n  return value;\n};\n\nfunction reverseNumberFormat(num) {\n  return Number(num.replace(/,/g, \"\"));\n}\n\nuseEffect(() => {\n  var operator = document.getElementsByClassName(\"operator\");\n\n  for (var i = 0; i < operator.length; i++) {\n    operator[i].addEventListener(\"click\", function () {\n      if (this.id == \"clear\") {\n        printHistory(\"\");\n        printOutput(\"\");\n      } else if (this.id == \"backspace\") {\n        var output = reverseNumberFormat(getOutput()).toString();\n\n        if (output) {\n          //if output has a value\n          output = output.substr(0, output.length - 1);\n          printOutput(output);\n        }\n      } else {\n        var output = getOutput();\n        var history = getHistory();\n\n        if (output == \"\" && history != \"\") {\n          if (isNaN(history[history.length - 1])) {\n            history = history.substr(0, history.length - 1);\n          }\n        }\n\n        if (output != \"\" || history != \"\") {\n          output = output == \"\" ? output : reverseNumberFormat(output);\n          history = history + output;\n\n          if (this.id == \"=\") {\n            var result = eval(history);\n            printOutput(result);\n            printHistory(\"\");\n          } else {\n            history = history + this.id;\n            printHistory(history);\n            printOutput(\"\");\n          }\n        }\n      }\n    });\n  }\n\n  var number = document.getElementsByClassName(\"number\");\n\n  for (var i = 0; i < number.length; i++) {\n    number[i].addEventListener(\"click\", function () {\n      var output = reverseNumberFormat(getOutput());\n\n      if (output != NaN) {\n        output = output + this.id;\n        printOutput(output);\n      }\n    });\n  }\n});","map":{"version":3,"sources":["D:/my-react/src/Calculator.js"],"names":["useEffect","useCallback","getHistory","document","getElementById","innerText","printHistory","num","printOutpu","getFormattedNumber","n","Number","value","toLocaleString","reverseNumberFormat","replace","operator","getElementsByClassName","i","length","addEventListener","id","printOutput","output","getOutput","toString","substr","history","isNaN","result","eval","number","NaN"],"mappings":"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","sourcesContent":["import { useEffect, useCallback } from \"react\";\r\n\r\nuseEffect(() => {\r\n  function getHistory() {\r\n    return document.getElementById(\"history-value\").innerText;\r\n  }\r\n  getHistory();\r\n});\r\n\r\n// useEffect(() => {\r\n//     function printHistory(num) {\r\n//       document.getElementById(\"history-value\").innerText = num;\r\n//     }\r\n//     printHistory();\r\n//   });\r\n  \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst printHistory = useCallback(async (num) => {\r\n    document.getElementById(\"history-value\").innerText = num;\r\n }, []);\r\n \r\n useEffect(() => {\r\n     printHistory();\r\n }, [printHistory]);\r\n\r\n\r\n\r\n\r\n\r\n useEffect(() => {\r\n    function printOutpu(num) {\r\n      if (num === \"\") {\r\n          document.getElementById(\"output-values\").innerText = num;\r\n        } else {\r\n          document.getElementById(\"output-values\").innerText =\r\n            getFormattedNumber(num);\r\n        }\r\n    }\r\n    printOutpu();\r\n  });\r\n\r\n\r\n\r\n\r\n\r\n// useEffect(() => {\r\n//   function getOutput(num) {\r\n//     return document.getElementById(\"output-values\").innerText;\r\n//   }\r\n//   getOutput();\r\n// });\r\n\r\n// useEffect(() => {\r\n//   function printOutpu(num) {\r\n//     if (num === \"\") {\r\n//         document.getElementById(\"output-values\").innerText = num;\r\n//       } else {\r\n//         document.getElementById(\"output-values\").innerText =\r\n//           getFormattedNumber(num);\r\n//       }\r\n//   }\r\n//   printOutpu();\r\n// });\r\n\r\n\r\nconst getFormattedNumber = (num) => {\r\n  if (num === \"-\") {\r\n    return \"\";\r\n  }\r\n  var n = Number(num);\r\n  var value = n.toLocaleString(\"en\");\r\n  return value;\r\n};\r\n\r\nfunction reverseNumberFormat(num) {\r\n  return Number(num.replace(/,/g, \"\"));\r\n}\r\n\r\nuseEffect(() => {\r\n    var operator = document.getElementsByClassName(\"operator\");\r\nfor (var i = 0; i < operator.length; i++) {\r\n  operator[i].addEventListener(\"click\", function () {\r\n    if (this.id == \"clear\") {\r\n      printHistory(\"\");\r\n      printOutput(\"\");\r\n    } else if (this.id == \"backspace\") {\r\n      var output = reverseNumberFormat(getOutput()).toString();\r\n      if (output) {\r\n        //if output has a value\r\n        output = output.substr(0, output.length - 1);\r\n        printOutput(output);\r\n      }\r\n    } else {\r\n      var output = getOutput();\r\n      var history = getHistory();\r\n      if (output == \"\" && history != \"\") {\r\n        if (isNaN(history[history.length - 1])) {\r\n          history = history.substr(0, history.length - 1);\r\n        }\r\n      }\r\n      if (output != \"\" || history != \"\") {\r\n        output = output == \"\" ? output : reverseNumberFormat(output);\r\n        history = history + output;\r\n        if (this.id == \"=\") {\r\n          var result = eval(history);\r\n          printOutput(result);\r\n          printHistory(\"\");\r\n        } else {\r\n          history = history + this.id;\r\n          printHistory(history);\r\n          printOutput(\"\");\r\n        }\r\n      }\r\n    }\r\n  });\r\n}\r\nvar number = document.getElementsByClassName(\"number\");\r\nfor (var i = 0; i < number.length; i++) {\r\n  number[i].addEventListener(\"click\", function () {\r\n    var output = reverseNumberFormat(getOutput());\r\n    if (output != NaN) {\r\n      output = output + this.id;\r\n      printOutput(output);\r\n    }\r\n  });\r\n}\r\n  });\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}