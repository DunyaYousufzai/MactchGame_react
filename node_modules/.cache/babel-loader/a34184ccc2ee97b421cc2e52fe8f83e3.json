{"ast":null,"code":"import { useEffect, useCallback } from \"react\";\nconst getHistory = useCallback(async num => {\n  return document.getElementById(\"history-value\").innerText;\n}, []);\nconst printHistory = useCallback(async num => {\n  document.getElementById(\"history-value\").innerText = num;\n}, []);\nconst getOutput = useCallback(async num => {\n  return document.getElementById(\"output-values\").innerText;\n}, []);\nconst printOutput = useCallback(async num => {\n  if (num === \"\") {\n    document.getElementById(\"output-values\").innerText = num;\n  } else {\n    document.getElementById(\"output-values\").innerText = getFormattedNumber(num);\n  }\n}, []);\nuseEffect(() => {\n  getHistory();\n  printHistory();\n  getOutput();\n  printOutput();\n}, [getHistory, printHistory, getOutput, printOutput]);\n\nconst getFormattedNumber = num => {\n  if (num === \"-\") {\n    return \"\";\n  }\n\n  var n = Number(num);\n  var value = n.toLocaleString(\"en\");\n  return value;\n};\n\nfunction reverseNumberFormat(num) {\n  return Number(num.replace(/,/g, \"\"));\n}\n\nuseEffect(() => {\n  var operator = document.getElementsByClassName(\"operator\");\n\n  for (var i = 0; i < operator.length; i++) {\n    operator[i].addEventListener(\"click\", function () {\n      if (this.id === \"clear\") {\n        printHistory(\"\");\n        printOutput(\"\");\n      } else if (this.id === \"backspace\") {\n        var output = reverseNumberFormat(getOutput()).toString();\n\n        if (output) {\n          //if output has a value\n          output = output.substr(0, output.length - 1);\n          printOutput(output);\n        }\n      } else {\n        var output = getOutput();\n        var history = getHistory();\n\n        if (output === \"\" && history !== \"\") {\n          if (isNaN(history[history.length - 1])) {\n            history = history.substr(0, history.length - 1);\n          }\n        }\n\n        if (output != \"\" || history != \"\") {\n          output = output == \"\" ? output : reverseNumberFormat(output);\n          history = history + output;\n\n          if (this.id == \"=\") {\n            var result = eval(history);\n            printOutput(result);\n            printHistory(\"\");\n          } else {\n            history = history + this.id;\n            printHistory(history);\n            printOutput(\"\");\n          }\n        }\n      }\n    });\n  }\n\n  var number = document.getElementsByClassName(\"number\");\n\n  for (var i = 0; i < number.length; i++) {\n    number[i].addEventListener(\"click\", function () {\n      var output = reverseNumberFormat(getOutput());\n\n      if (output !== NaN) {\n        output = output + this.id;\n        printOutput(output);\n      }\n    });\n  }\n});","map":{"version":3,"sources":["D:/my-react/src/Calculator.js"],"names":["useEffect","useCallback","getHistory","num","document","getElementById","innerText","printHistory","getOutput","printOutput","getFormattedNumber","n","Number","value","toLocaleString","reverseNumberFormat","replace","operator","getElementsByClassName","i","length","addEventListener","id","output","toString","substr","history","isNaN","result","eval","number","NaN"],"mappings":"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","sourcesContent":["import { useEffect, useCallback } from \"react\";\r\n\r\n\r\nconst getHistory = useCallback(async (num) => {\r\n    return document.getElementById(\"history-value\").innerText;\r\n }, []);\r\nconst printHistory = useCallback(async (num) => {\r\n    document.getElementById(\"history-value\").innerText = num;\r\n }, []);\r\n\r\nconst getOutput = useCallback(async (num) => {\r\n    return document.getElementById(\"output-values\").innerText;\r\n }, []);\r\n\r\nconst printOutput = useCallback(async (num) => {\r\n    if (num === \"\") {\r\n        document.getElementById(\"output-values\").innerText = num;\r\n      } else {\r\n        document.getElementById(\"output-values\").innerText =\r\n          getFormattedNumber(num);\r\n      }\r\n }, []);\r\n useEffect(() => {\r\n     getHistory(); \r\n     printHistory();\r\n     getOutput();\r\n     printOutput();\r\n }, [getHistory, printHistory, getOutput, printOutput]);\r\n\r\n\r\nconst getFormattedNumber = (num) => {\r\n  if (num === \"-\") {\r\n    return \"\";\r\n  }\r\n  var n = Number(num);\r\n  var value = n.toLocaleString(\"en\");\r\n  return value;\r\n};\r\n\r\nfunction reverseNumberFormat(num) {\r\n  return Number(num.replace(/,/g, \"\"));\r\n}\r\n\r\nuseEffect(() => {\r\n    var operator = document.getElementsByClassName(\"operator\");\r\nfor (var i = 0; i < operator.length; i++) {\r\n  operator[i].addEventListener(\"click\", function () {\r\n    if (this.id === \"clear\") {\r\n      printHistory(\"\");\r\n      printOutput(\"\");\r\n    } else if (this.id === \"backspace\") {\r\n      var output = reverseNumberFormat(getOutput()).toString();\r\n      if (output) {\r\n        //if output has a value\r\n        output = output.substr(0, output.length - 1);\r\n        printOutput(output);\r\n      }\r\n    } else {\r\n      var output = getOutput();\r\n      var history = getHistory();\r\n      if (output === \"\" && history !== \"\") {\r\n        if (isNaN(history[history.length - 1])) {\r\n          history = history.substr(0, history.length - 1);\r\n        }\r\n      }\r\n      if (output != \"\" || history != \"\") {\r\n        output = output == \"\" ? output : reverseNumberFormat(output);\r\n        history = history + output;\r\n        if (this.id == \"=\") {\r\n          var result = eval(history);\r\n          printOutput(result);\r\n          printHistory(\"\");\r\n        } else {\r\n          history = history + this.id;\r\n          printHistory(history);\r\n          printOutput(\"\");\r\n        }\r\n      }\r\n    }\r\n  });\r\n}\r\nvar number = document.getElementsByClassName(\"number\");\r\nfor (var i = 0; i < number.length; i++) {\r\n  number[i].addEventListener(\"click\", function () {\r\n    var output = reverseNumberFormat(getOutput());\r\n    if (output !== NaN) {\r\n      output = output + this.id;\r\n      printOutput(output);\r\n    }\r\n  });\r\n}\r\n  });\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}