{"ast":null,"code":"import { useEffect } from \"react\";\nuseEffect(() => {\n  function getHistory() {\n    return document.getElementById(\"history-value\").innerText;\n  }\n\n  getHistory();\n});\nuseEffect(() => {\n  function printHistory(num) {\n    document.getElementById(\"history-value\").innerText = num;\n  }\n\n  printHistory();\n});\nuseEffect(() => {\n  function printHistory(num) {\n    document.getElementById(\"history-value\").innerText = num;\n  }\n\n  printHistory();\n});\nconst fetchData = useCallback(async params => {\n  const res = await axios.get('/url', {\n    params\n  });\n  appDispatch({\n    type: \"LOAD_ELEMENTS\",\n    elements: res.data\n  });\n}, []);\nuseEffect(() => {\n  fetchData();\n}, [fetchData]);\nuseEffect(() => {\n  function getOutput(num) {\n    return document.getElementById(\"output-values\").innerText;\n  }\n\n  getOutput();\n});\nuseEffect(() => {\n  function printOutpu(num) {\n    if (num === \"\") {\n      document.getElementById(\"output-values\").innerText = num;\n    } else {\n      document.getElementById(\"output-values\").innerText = getFormattedNumber(num);\n    }\n  }\n\n  printOutpu();\n});\n\nconst getFormattedNumber = num => {\n  if (num === \"-\") {\n    return \"\";\n  }\n\n  var n = Number(num);\n  var value = n.toLocaleString(\"en\");\n  return value;\n};\n\nfunction reverseNumberFormat(num) {\n  return Number(num.replace(/,/g, \"\"));\n}\n\nuseEffect(() => {\n  var operator = document.getElementsByClassName(\"operator\");\n\n  for (var i = 0; i < operator.length; i++) {\n    operator[i].addEventListener(\"click\", function () {\n      if (this.id == \"clear\") {\n        printHistory(\"\");\n        printOutput(\"\");\n      } else if (this.id == \"backspace\") {\n        var output = reverseNumberFormat(getOutput()).toString();\n\n        if (output) {\n          //if output has a value\n          output = output.substr(0, output.length - 1);\n          printOutput(output);\n        }\n      } else {\n        var output = getOutput();\n        var history = getHistory();\n\n        if (output == \"\" && history != \"\") {\n          if (isNaN(history[history.length - 1])) {\n            history = history.substr(0, history.length - 1);\n          }\n        }\n\n        if (output != \"\" || history != \"\") {\n          output = output == \"\" ? output : reverseNumberFormat(output);\n          history = history + output;\n\n          if (this.id == \"=\") {\n            var result = eval(history);\n            printOutput(result);\n            printHistory(\"\");\n          } else {\n            history = history + this.id;\n            printHistory(history);\n            printOutput(\"\");\n          }\n        }\n      }\n    });\n  }\n\n  var number = document.getElementsByClassName(\"number\");\n\n  for (var i = 0; i < number.length; i++) {\n    number[i].addEventListener(\"click\", function () {\n      var output = reverseNumberFormat(getOutput());\n\n      if (output != NaN) {\n        output = output + this.id;\n        printOutput(output);\n      }\n    });\n  }\n});","map":{"version":3,"sources":["D:/my-react/src/Calculator.js"],"names":["useEffect","getHistory","document","getElementById","innerText","printHistory","num","fetchData","useCallback","params","res","axios","get","appDispatch","type","elements","data","getOutput","printOutpu","getFormattedNumber","n","Number","value","toLocaleString","reverseNumberFormat","replace","operator","getElementsByClassName","i","length","addEventListener","id","printOutput","output","toString","substr","history","isNaN","result","eval","number","NaN"],"mappings":"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","sourcesContent":["import { useEffect } from \"react\";\r\n\r\nuseEffect(() => {\r\n  function getHistory() {\r\n    return document.getElementById(\"history-value\").innerText;\r\n  }\r\n  getHistory();\r\n});\r\n\r\nuseEffect(() => {\r\n    function printHistory(num) {\r\n      document.getElementById(\"history-value\").innerText = num;\r\n    }\r\n    printHistory();\r\n  });\r\n  \r\n\r\n\r\n\r\n\r\n\r\n\r\nuseEffect(() => {\r\n  function printHistory(num) {\r\n    document.getElementById(\"history-value\").innerText = num;\r\n  }\r\n  printHistory();\r\n});\r\n\r\nconst fetchData = useCallback(async (params) => {\r\n    const res = await axios.get('/url', { params });\r\n    appDispatch({ type: \"LOAD_ELEMENTS\", elements: res.data });\r\n }, []);\r\n \r\n useEffect(() => {\r\n     fetchData();\r\n }, [fetchData]);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nuseEffect(() => {\r\n  function getOutput(num) {\r\n    return document.getElementById(\"output-values\").innerText;\r\n  }\r\n  getOutput();\r\n});\r\n\r\nuseEffect(() => {\r\n  function printOutpu(num) {\r\n    if (num === \"\") {\r\n        document.getElementById(\"output-values\").innerText = num;\r\n      } else {\r\n        document.getElementById(\"output-values\").innerText =\r\n          getFormattedNumber(num);\r\n      }\r\n  }\r\n  printOutpu();\r\n});\r\n\r\n\r\nconst getFormattedNumber = (num) => {\r\n  if (num === \"-\") {\r\n    return \"\";\r\n  }\r\n  var n = Number(num);\r\n  var value = n.toLocaleString(\"en\");\r\n  return value;\r\n};\r\n\r\nfunction reverseNumberFormat(num) {\r\n  return Number(num.replace(/,/g, \"\"));\r\n}\r\n\r\nuseEffect(() => {\r\n    var operator = document.getElementsByClassName(\"operator\");\r\nfor (var i = 0; i < operator.length; i++) {\r\n  operator[i].addEventListener(\"click\", function () {\r\n    if (this.id == \"clear\") {\r\n      printHistory(\"\");\r\n      printOutput(\"\");\r\n    } else if (this.id == \"backspace\") {\r\n      var output = reverseNumberFormat(getOutput()).toString();\r\n      if (output) {\r\n        //if output has a value\r\n        output = output.substr(0, output.length - 1);\r\n        printOutput(output);\r\n      }\r\n    } else {\r\n      var output = getOutput();\r\n      var history = getHistory();\r\n      if (output == \"\" && history != \"\") {\r\n        if (isNaN(history[history.length - 1])) {\r\n          history = history.substr(0, history.length - 1);\r\n        }\r\n      }\r\n      if (output != \"\" || history != \"\") {\r\n        output = output == \"\" ? output : reverseNumberFormat(output);\r\n        history = history + output;\r\n        if (this.id == \"=\") {\r\n          var result = eval(history);\r\n          printOutput(result);\r\n          printHistory(\"\");\r\n        } else {\r\n          history = history + this.id;\r\n          printHistory(history);\r\n          printOutput(\"\");\r\n        }\r\n      }\r\n    }\r\n  });\r\n}\r\nvar number = document.getElementsByClassName(\"number\");\r\nfor (var i = 0; i < number.length; i++) {\r\n  number[i].addEventListener(\"click\", function () {\r\n    var output = reverseNumberFormat(getOutput());\r\n    if (output != NaN) {\r\n      output = output + this.id;\r\n      printOutput(output);\r\n    }\r\n  });\r\n}\r\n  });\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}